/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn more about Gradle by exploring our samples at https://docs.gradle.org/8.1.1/samples
 * This project uses @Incubating APIs which are subject to change.
 */

buildscript {
    repositories {
        maven {
            url = uri("https://plugins.gradle.org/m2/")
        }
    }
}

plugins {
    alias(libs.plugins.axionRelease)
}

scmVersion {
    repository {
        pushTagsOnly = true
    }
    branchVersionIncrementer = [
            'rc/.*' : ['incrementPrerelease', [initialPreReleaseIfNotOnPrerelease: 'rc1']]
    ]
    tag {
        branchPrefix.putAll([
                "rc/.*" : "rc"
        ])
    }
}

allprojects {
    apply plugin: 'maven-publish'

    group = 'com.dn.axion'
    project.version = scmVersion.version
    
    publishing {
        repositories {
        }
    }
}

configure([
    project(':commons-test')]) {

    buildscript {
        repositories {
            maven {
                url = uri("https://plugins.gradle.org/m2/")
            }
        }
    }
    apply plugin: 'java-library'

    test.useJUnitPlatform()

    dependencies {
        testImplementation 'org.mockito:mockito-junit-jupiter'
        testImplementation (libs.assertjCore)
        testImplementation (libs.junitJupiter)
        testImplementation (libs.junitJupiterParams)
    }

    java {
        withSourcesJar()
    }
    jar {
        archiveClassifier = ''
    }
}